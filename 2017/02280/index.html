<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 动画实践 · 一环的笔记</title><meta name="description" content="动画实践 - liyh"><meta name="description" content="最近做的好几个营销项目的页面都有比较多的动画，把 CSS3, DOM, Canvas 这几种方式都给实践了一下。期间也考虑着是不是能够产出一套方案来解决动画开发维护繁琐的问题，然后也算是落地了一些想法，这里记录一下。">
<meta property="og:type" content="article">
<meta property="og:title" content="动画实践">
<meta property="og:url" content="http://cupools.github.io/2017/02280/index.html">
<meta property="og:site_name" content="一环的笔记">
<meta property="og:description" content="最近做的好几个营销项目的页面都有比较多的动画，把 CSS3, DOM, Canvas 这几种方式都给实践了一下。期间也考虑着是不是能够产出一套方案来解决动画开发维护繁琐的问题，然后也算是落地了一些想法，这里记录一下。">
<meta property="og:updated_time" content="2017-03-02T15:57:52.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="动画实践">
<meta name="twitter:description" content="最近做的好几个营销项目的页面都有比较多的动画，把 CSS3, DOM, Canvas 这几种方式都给实践了一下。期间也考虑着是不是能够产出一套方案来解决动画开发维护繁琐的问题，然后也算是落地了一些想法，这里记录一下。"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://cupools.github.io/atom.xml" title="一环的笔记"></head><body><div class="wrap"><header><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/archives/" target="" class="nav-list-link">Archive</a></li><li class="nav-list-item"><a href="https://github.com/cupools" target="_blank" class="nav-list-link">GitHub</a></li><li class="nav-list-item"><a href="mailto:cupools@gmail.com" target="" class="nav-list-link">Gmail</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">动画实践</h1><div class="post-info">Feb 28, 2017<ul class="post-tag-list"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/碎屑/">碎屑</a></li></ul></div><div class="post-content"><p>最近做的好几个营销项目的页面都有比较多的动画，把 CSS3, DOM, Canvas 这几种方式都给实践了一下。期间也考虑着是不是能够产出一套方案来解决动画开发维护繁琐的问题，然后也算是落地了一些想法，这里记录一下。</p>
<a id="more"></a>
<h2 id="痛点"><a href="#痛点" class="headerlink" title="痛点"></a>痛点</h2><p>常见的动画开发方式包括 CSS3, DOM, Canvas, WebGL 这几种，根据不同的动画形式选择不同的实现方法。对于变换简单、数量少的动画需求，CSS3 是最简单的实现方式。简单的动画简单写就行了，这里讨论动画数量多，时间轴要求严格的场景。在这种场景下，我们会考虑通过操作 DOM 或者 Canvas 甚至 WebGL 去实现。不管是哪种实现方法，大概都会经历这样子的开发步骤：</p>
<ol>
<li>切图和重构：通常需要把设计稿里面数十个动画元素的图片切出来，然后逐个测量它们的位置，并定位到页面或者画布中</li>
<li>动效的编写：根据设计师提供的 Demo 和关键帧标注，用代码实现每个元素的动效。通常会是位移、旋转、渐变或者精灵图变换</li>
<li>时间轴的控制：编写好每个动画元素的动效之后，需要把它们都组织起来，安排动画的顺序和切入的时间点，包括用户的交互行为对动画的影响</li>
<li>代码的维护：部署并体验之后，需求方或者设计师会跟你说这里需求变动了或者效果不理想需要返工，然后就再来一次</li>
</ol>
<p>试过一次就会发现以上每个步骤很揪心。切图和重构有大量重复操作在设计稿上面折腾；动效的编写需要通过动画框架根据不同动效元素创建不同的实例，不断调用接口但仅仅传入不同的参数；时间轴的控制需要编写大量的胶水代码把之前所有的动画元素组织起来；最后由于代码繁多造成维护的成本提高，返工消耗大量时间。</p>
<p>在发现每次动画开发都会有这么多重复且单一的工作量之后，肯定就会想法设法地通过工具的支撑或者新的开发模式把开发的成本减下来啦，然后就有了下面的尝试。</p>
<h2 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h2><p>TODO</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/12310/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2017 <a href="http://cupools.github.io">liyh</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-67000695-1",'auto');ga('send','pageview');</script></body></html>