<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 用 Sass 写 css3 动画 · 一环的笔记</title><meta name="description" content="用 Sass 写 css3 动画 - liyh"><meta name="description" content="之前也在用 Sass 和 Stylus，不过局限在嵌套、变量之类的简单使用，对其他特性敬而远之，觉得在写样式的过程中过多去考虑这一块会降低页面重构效率。直到最近项目中出现了大量 css 动画，一想到要重复调整关键帧和统一多个元素的入场动画太麻烦啦，于是决定试试 mixin，然后发现效率提高了不止一丢丢这么厉害。">
<meta property="og:type" content="article">
<meta property="og:title" content="用 Sass 写 css3 动画">
<meta property="og:url" content="http://cupools.github.io/2016/05070/index.html">
<meta property="og:site_name" content="一环的笔记">
<meta property="og:description" content="之前也在用 Sass 和 Stylus，不过局限在嵌套、变量之类的简单使用，对其他特性敬而远之，觉得在写样式的过程中过多去考虑这一块会降低页面重构效率。直到最近项目中出现了大量 css 动画，一想到要重复调整关键帧和统一多个元素的入场动画太麻烦啦，于是决定试试 mixin，然后发现效率提高了不止一丢丢这么厉害。">
<meta property="og:image" content="http://cupools.github.io/images/sass-16-05-08/cmp6_keyframes_tumb.png">
<meta property="og:image" content="http://cupools.github.io/images/sass-16-05-08/bezier.gif">
<meta property="og:updated_time" content="2016-08-26T07:52:31.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="用 Sass 写 css3 动画">
<meta name="twitter:description" content="之前也在用 Sass 和 Stylus，不过局限在嵌套、变量之类的简单使用，对其他特性敬而远之，觉得在写样式的过程中过多去考虑这一块会降低页面重构效率。直到最近项目中出现了大量 css 动画，一想到要重复调整关键帧和统一多个元素的入场动画太麻烦啦，于是决定试试 mixin，然后发现效率提高了不止一丢丢这么厉害。">
<meta name="twitter:image" content="http://cupools.github.io/images/sass-16-05-08/cmp6_keyframes_tumb.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://cupools.github.io/atom.xml" title="一环的笔记"></head><body><div class="wrap"><header><a href="/" class="logo-link">EXPORT DEFAULT LIYH</a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/cupools" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="mailto:cupools@gmail.com" target="_self" class="nav-list-link">GMAIL</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">用 Sass 写 css3 动画</h1><div class="post-info">May 7, 2016<ul class="post-tag-list"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/css/">css</a></li><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/sass/">sass</a></li></ul></div><div class="post-content"><p>之前也在用 Sass 和 Stylus，不过局限在嵌套、变量之类的简单使用，对其他特性敬而远之，觉得在写样式的过程中过多去考虑这一块会降低页面重构效率。直到最近项目中出现了大量 css 动画，一想到要重复调整关键帧和统一多个元素的入场动画太麻烦啦，于是决定试试 mixin，然后发现效率提高了不止一丢丢这么厉害。</p>
<a id="more"></a>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><blockquote>
<p>Sass is the most mature, stable, and powerful professional grade CSS extension language in the world.</p>
</blockquote>
<h2 id="渐现入场"><a href="#渐现入场" class="headerlink" title="渐现入场"></a>渐现入场</h2><p>滑屏的 H5, 每一屏会有文字渐现入场，然后这种类型的动画我习惯用 transition 并改变 opacity 或 transform 去实现类似的效果，然后写了这样的混合器。</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">mixin</span> fadeIn(<span class="variable">$class</span>, <span class="variable">$duration</span>:<span class="number">0.8s</span>, <span class="variable">$delay</span>: .5s, <span class="variable">$tag</span>: play) &#123;</div><div class="line">    .#&#123;<span class="variable">$class</span>&#125; &#123;</div><div class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    &amp;.#&#123;<span class="variable">$tag</span>&#125; .#&#123;<span class="variable">$class</span>&#125; &#123;</div><div class="line">        <span class="attribute">transition</span>: opacity <span class="variable">$duration</span> <span class="variable">$delay</span>;</div><div class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>使用的时候，这样子</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.slogan</span> &#123;</div><div class="line">    ...</div><div class="line">&#125;</div><div class="line">@<span class="keyword">include</span> fadeIn(</div><div class="line">    <span class="variable">$class</span>: <span class="string">'slogan'</span>,</div><div class="line">    <span class="variable">$delay</span>: 1s,</div><div class="line">    <span class="variable">$duration</span>: .8s</div><div class="line">);</div></pre></td></tr></table></figure>
<p>最后输出这样子</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.slogan</span> &#123;</div><div class="line">    ...</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.slogan</span> &#123;</div><div class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.play</span> <span class="selector-class">.slogan</span> &#123;</div><div class="line">    <span class="attribute">transition</span>: opacity .<span class="number">8s</span> <span class="number">1s</span>;</div><div class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>就这样把动画的部分和样式分离开了，至于为什么不把 transition 写在元素初始的样式里，这里考虑到的是翻屏之后不会出现动画回滚的状态，也就是排除了 opacity from 1 to 0 的渐变过程。</p>
<h2 id="组帧动画"><a href="#组帧动画" class="headerlink" title="组帧动画"></a>组帧动画</h2><p>由于项目基于 FIS 开发，这里精灵图的处理也就没那么灵活了，因为没法产出多套精灵图片，也就无法实现图片的懒加载。对于精灵图的处理，暂时使用了这样的原始方式。</p>
<p>首先，通过 <a href="http://sjli.github.io/spritemaker_extjs/example.html" target="_blank" rel="external">CssSprite在线生成器</a> 生成垂直排列的精灵图，每一帧有固定的宽高，如下截取部分</p>
<p><img src="/images/sass-16-05-08/cmp6_keyframes_tumb.png" alt="keyframes"></p>
<p>然后这里又写了个 mixin, 注释写成这样不要在意…写完回头看一下虽然逻辑不复杂但是很好用窝</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line"><span class="comment">// keyframes_ani</span></div><div class="line"><span class="comment">// ------------------------------------</span></div><div class="line"><span class="comment">// @param    $animation_name    动画名称</span></div><div class="line"><span class="comment">// @param    $background        精灵图片</span></div><div class="line"><span class="comment">// @param    $height            容器高度</span></div><div class="line"><span class="comment">// @param    $count             帧数</span></div><div class="line"><span class="comment">// @param    $duration          动画时长，默认为 2s</span></div><div class="line"><span class="comment">// @param    $delay             动画延时，默认为 0s</span></div><div class="line"><span class="comment">// @param    $weight            每一帧在整个动画过程所占时间长短的权重，map 中必须包含 null 为缺省权重，默认为 1</span></div><div class="line"><span class="comment">// @param    $times             播放次数，默认为 forwards</span></div><div class="line"><span class="comment">// ------------------------------------</span></div><div class="line">@<span class="keyword">mixin</span> keyframes_ani(<span class="variable">$animation_name</span>, <span class="variable">$background</span>, <span class="variable">$height</span>, <span class="variable">$count</span>, <span class="variable">$duration</span>: 2s, <span class="variable">$delay</span>: 0s, <span class="variable">$weight</span>: (null: 1), <span class="variable">$times</span>: forwards) &#123;</div><div class="line">    <span class="attribute">background</span>: <span class="variable">$background</span> no-repeat;</div><div class="line">    <span class="attribute">animation</span>: <span class="variable">$animation_name</span> <span class="variable">$duration</span> <span class="variable">$delay</span> steps(<span class="number">1</span>) <span class="variable">$times</span>;</div><div class="line"></div><div class="line">    <span class="variable">$vals</span>: ();</div><div class="line">    <span class="variable">$sum</span>: <span class="number">0</span>;</div><div class="line"></div><div class="line">    @<span class="keyword">for</span> <span class="variable">$i</span> from 0 to <span class="variable">$count</span> &#123;</div><div class="line">        <span class="variable">$key</span>: <span class="variable">$i</span> + <span class="number">1</span>;</div><div class="line">        <span class="variable">$vals</span>: append(<span class="variable">$vals</span>, <span class="variable">$sum</span>);</div><div class="line">        </div><div class="line">        @<span class="keyword">if</span> (map-has-key(<span class="variable">$weight</span>, <span class="variable">$key</span>)) &#123;</div><div class="line">            <span class="variable">$sum</span>: <span class="variable">$sum</span> + map-get(<span class="variable">$weight</span>, <span class="variable">$key</span>);</div><div class="line">        &#125; @<span class="keyword">else</span> &#123;</div><div class="line">            <span class="variable">$sum</span>: <span class="variable">$sum</span> + map-get(<span class="variable">$weight</span>, null);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="variable">$avg</span>: floor(<span class="number">100</span> / <span class="variable">$sum</span>);</div><div class="line">    </div><div class="line">    @keyframes #&#123;<span class="variable">$animation_name</span>&#125; &#123;</div><div class="line">        @<span class="keyword">for</span> <span class="variable">$i</span> from 0 to <span class="variable">$count</span> &#123;</div><div class="line">            #&#123;nth(<span class="variable">$vals</span>, <span class="variable">$i</span> + 1) * <span class="variable">$avg</span> * 1%&#125; &#123;</div><div class="line">                <span class="attribute">background-position</span>: <span class="number">0</span> (<span class="variable">$i</span> * <span class="variable">$height</span> * -<span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        100% &#123;</div><div class="line">            <span class="attribute">background-position</span>: <span class="number">0</span> ((<span class="variable">$count</span> - <span class="number">1</span>) * <span class="variable">$height</span> * -<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后样式引用 mixin, 并提供必要参数</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.people</span> &#123;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</div><div class="line">    <span class="attribute">width</span>: <span class="number">113px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">113px</span>;</div><div class="line">    @<span class="keyword">include</span> keyframes_ani(</div><div class="line">        <span class="variable">$animation_name</span>: people-ani,</div><div class="line">        <span class="variable">$background</span>: url(./people_sprite.png),</div><div class="line">        <span class="variable">$height</span>: 118px,</div><div class="line">        <span class="variable">$weight</span>: (</div><div class="line">            2: 11,</div><div class="line">            11: 19,</div><div class="line">            23: 5,</div><div class="line">            null: 3</div><div class="line">        ),</div><div class="line">        <span class="variable">$count</span>: 24,</div><div class="line">        <span class="variable">$duration</span>: 5s</div><div class="line">    );</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后就搞定啦，最终输出代码如下</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.people</span> &#123;</div><div class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">113px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">113px</span>;</div><div class="line">  <span class="attribute">background</span>: url(./people_sprite.png) no-repeat;</div><div class="line">  <span class="attribute">animation</span>: people-ani <span class="number">5s</span> <span class="number">0s</span> steps(<span class="number">1</span>) forwards;</div><div class="line">&#125;</div><div class="line">@keyframes people-ani &#123;</div><div class="line">  0% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0px</span>;</div><div class="line">  &#125;</div><div class="line">  3% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">118px</span>;</div><div class="line">  &#125;</div><div class="line">  14% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">236px</span>;</div><div class="line">  &#125;</div><div class="line">  17% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">354px</span>;</div><div class="line">  &#125;</div><div class="line">  20% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">472px</span>;</div><div class="line">  &#125;</div><div class="line">  23% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">590px</span>;</div><div class="line">  &#125;</div><div class="line">  26% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">708px</span>;</div><div class="line">  &#125;</div><div class="line">  29% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">826px</span>;</div><div class="line">  &#125;</div><div class="line">  32% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">944px</span>;</div><div class="line">  &#125;</div><div class="line">  35% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">1062px</span>;</div><div class="line">  &#125;</div><div class="line">  38% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">1180px</span>;</div><div class="line">  &#125;</div><div class="line">  57% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">1298px</span>;</div><div class="line">  &#125;</div><div class="line">  60% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">1416px</span>;</div><div class="line">  &#125;</div><div class="line">  63% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">1534px</span>;</div><div class="line">  &#125;</div><div class="line">  66% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">1652px</span>;</div><div class="line">  &#125;</div><div class="line">  69% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">1770px</span>;</div><div class="line">  &#125;</div><div class="line">  72% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">1888px</span>;</div><div class="line">  &#125;</div><div class="line">  75% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">2006px</span>;</div><div class="line">  &#125;</div><div class="line">  78% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">2124px</span>;</div><div class="line">  &#125;</div><div class="line">  81% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">2242px</span>;</div><div class="line">  &#125;</div><div class="line">  84% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">2360px</span>;</div><div class="line">  &#125;</div><div class="line">  87% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">2478px</span>;</div><div class="line">  &#125;</div><div class="line">  90% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">2596px</span>;</div><div class="line">  &#125;</div><div class="line">  95% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">2714px</span>;</div><div class="line">  &#125;</div><div class="line">  100% &#123;</div><div class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> -<span class="number">2714px</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里想巴拉下 <code>keyframe_ani</code> 中的 $weight 参数，map 类型，表示每一帧在整个动画过程所占时间长短的<strong>权重</strong>，缺省的帧匹配为 null, 默认为 <code>(null: 1)</code>。这里的权重即是这一关键帧在整个 $duration 中所占的时间比，方便调整 $duration 而不对动画造成其他影响。下面 $weight 的两种写法的结果是一致的。</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line"><span class="variable">$weight</span>: (</div><div class="line">    <span class="number">1</span>: <span class="number">3</span>,</div><div class="line">    <span class="number">4</span>: <span class="number">3</span>,</div><div class="line">    null: <span class="number">1</span></div><div class="line">)</div><div class="line"><span class="variable">$weight</span>: (</div><div class="line">    <span class="number">1</span>: <span class="number">6</span>,</div><div class="line">    <span class="number">4</span>: <span class="number">6</span>,</div><div class="line">    null: <span class="number">2</span></div><div class="line">)</div></pre></td></tr></table></figure>
<p>demo 见 <a href="http://codepen.io/youtbe/pen/MyLmpJ" target="_blank" rel="external">codepen</a>.</p>
<h2 id="曲线运动"><a href="#曲线运动" class="headerlink" title="曲线运动"></a>曲线运动</h2><p>有一屏设计师说要让纸被风吹走，要飞着转几圈，要飞的优雅。这时候如果直接手写关键帧出来的效果应该是不满意的，曲线运动的动画会变的生硬；让我加一块 canvas 我也不干，纯粹强迫症？于是琢磨着也用 Sass 实现，然后就走了这样的歪路。</p>
<p><img src="/images/sass-16-05-08/bezier.gif" alt="animation"></p>
<p>整体的思路，我直接拿了之前星座项目用过的贝塞尔曲线相关的实现，通过关键点生成路径点集，然后粗暴地通过 node 直接生成 sass-variable.scss 文件，里面声明了四个变量，每个变量包含了每个纸片动画过程中50个关键帧的偏移量，然后再通过变量生成 keyframes, 就搞定啦。</p>
<p>代码如下，也很简单就是了</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// buildSassVar.js</span></div><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> pointCount = <span class="number">50</span>;</div><div class="line"><span class="keyword">const</span> points = [</div><div class="line">    [&#123;x: <span class="number">0</span>, y: <span class="number">0</span>&#125;,&#123;x: <span class="number">-40</span>, y: <span class="number">-60</span>&#125;, &#123;x: <span class="number">-20</span>, y: <span class="number">250</span>&#125;, &#123;x: <span class="number">-500</span>, y: <span class="number">400</span>&#125;],</div><div class="line">    [&#123;x: <span class="number">0</span>, y: <span class="number">0</span>&#125;,&#123;x: <span class="number">-40</span>, y: <span class="number">140</span>&#125;, &#123;x: <span class="number">120</span>, y: <span class="number">300</span>&#125;, &#123;x: <span class="number">-160</span>, y: <span class="number">800</span>&#125;],</div><div class="line">    [&#123;x: <span class="number">0</span>, y: <span class="number">0</span>&#125;,&#123;x: <span class="number">-100</span>, y: <span class="number">90</span>&#125;, &#123;x: <span class="number">-240</span>, y: <span class="number">180</span>&#125;, &#123;x: <span class="number">-500</span>, y: <span class="number">340</span>&#125;],</div><div class="line">    [&#123;x: <span class="number">0</span>, y: <span class="number">0</span>&#125;,&#123;x: <span class="number">10</span>, y: <span class="number">120</span>&#125;, &#123;x: <span class="number">200</span>, y: <span class="number">220</span>&#125;, &#123;x:<span class="number">150</span>, y: <span class="number">400</span>&#125;, &#123;x:<span class="number">-300</span>, y:<span class="number">600</span>&#125;],</div><div class="line">    [&#123;x: <span class="number">0</span>, y: <span class="number">0</span>&#125;,&#123;x: <span class="number">50</span>, y: <span class="number">10</span>&#125;, &#123;x: <span class="number">50</span>, y: <span class="number">100</span>&#125;, &#123;x: <span class="number">-50</span>, y: <span class="number">400</span>&#125;, &#123;x: <span class="number">-200</span>, y:<span class="number">600</span>&#125;, &#123;x: <span class="number">-400</span>, y:<span class="number">800</span>&#125;]</div><div class="line">];</div><div class="line"></div><div class="line">build();</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">build</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> content = <span class="string">''</span>;</div><div class="line"></div><div class="line">    points.map((point, index) =&gt; &#123;</div><div class="line">        <span class="keyword">let</span> str = <span class="string">''</span>;</div><div class="line"></div><div class="line">        <span class="comment">// 创建点集</span></div><div class="line">        CreateBezierPoints(point, pointCount).map((pos, idx) =&gt; &#123;</div><div class="line">            str += <span class="string">`<span class="subst">$&#123;idx&#125;</span>:(<span class="subst">$&#123;pos.x.toFixed(2)&#125;</span>, <span class="subst">$&#123;pos.y.toFixed(2)&#125;</span>),`</span>;</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        content += <span class="string">`$paper<span class="subst">$&#123;index&#125;</span>: (<span class="subst">$&#123;str&#125;</span>);\n`</span>;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="comment">// 写入文件</span></div><div class="line">    <span class="built_in">require</span>(<span class="string">'fs'</span>).writeFileSync(<span class="string">'./components/css/sass-variable.scss'</span>, content, &#123;</div><div class="line">        encoding: <span class="string">'utf8'</span></div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">CreateBezierPoints</span>(<span class="params">anchorpoints, pointsAmount</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> points = [];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; pointsAmount; i++) &#123;</div><div class="line">        <span class="keyword">var</span> point = MultiPointBezier(anchorpoints, i / pointsAmount);</div><div class="line">        points.push(point);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> points;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">MultiPointBezier</span>(<span class="params">points, t</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> len = points.length;</div><div class="line">    <span class="keyword">var</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</div><div class="line">    <span class="keyword">var</span> erxiangshi = <span class="function"><span class="keyword">function</span> (<span class="params">start, end</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> cs = <span class="number">1</span>, bcs = <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span> (end &gt; <span class="number">0</span>) &#123;</div><div class="line">            cs *= start;</div><div class="line">            bcs *= end;</div><div class="line">            start--;</div><div class="line">            end--;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> (cs / bcs);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</div><div class="line">        <span class="keyword">var</span> point = points[i];</div><div class="line">        x += point.x * <span class="built_in">Math</span>.pow((<span class="number">1</span> - t), (len - <span class="number">1</span> - i)) * <span class="built_in">Math</span>.pow(t, i) * (erxiangshi(len - <span class="number">1</span>, i));</div><div class="line">        y += point.y * <span class="built_in">Math</span>.pow((<span class="number">1</span> - t), (len - <span class="number">1</span> - i)) * <span class="built_in">Math</span>.pow(t, i) * (erxiangshi(len - <span class="number">1</span>, i));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> &#123; x: x, y: y &#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line"><span class="comment">// sass-variable.scss</span></div><div class="line"><span class="variable">$paper0</span>: (<span class="number">0</span>:(<span class="number">0.00</span>, <span class="number">0.00</span>),<span class="number">1</span>:(-<span class="number">2.33</span>, -<span class="number">3.16</span>),<span class="number">2</span>:(-<span class="number">4.55</span>, -<span class="number">5.46</span>),<span class="number">3</span>:(-<span class="number">6.67</span>, -<span class="number">6.92</span>),<span class="number">4</span>:(-<span class="number">8.73</span>, -<span class="number">7.57</span>),<span class="number">5</span>:(-<span class="number">10.76</span>, -<span class="number">7.43</span>),<span class="number">6</span>:(-<span class="number">12.78</span>, -<span class="number">6.53</span>),<span class="number">7</span>:(-<span class="number">14.81</span>, -<span class="number">4.90</span>),<span class="number">8</span>:(-<span class="number">16.89</span>, -<span class="number">2.55</span>),<span class="number">9</span>:(-<span class="number">19.03</span>, <span class="number">0.47</span>),<span class="number">10</span>:(-<span class="number">21.28</span>, <span class="number">4.16</span>),<span class="number">11</span>:(-<span class="number">23.65</span>, <span class="number">8.48</span>),<span class="number">12</span>:(-<span class="number">26.17</span>, <span class="number">13.41</span>),<span class="number">13</span>:(-<span class="number">28.87</span>, <span class="number">18.92</span>),<span class="number">14</span>:(-<span class="number">31.78</span>, <span class="number">24.99</span>),<span class="number">15</span>:(-<span class="number">34.92</span>, <span class="number">31.59</span>),<span class="number">16</span>:(-<span class="number">38.32</span>, <span class="number">38.70</span>),<span class="number">17</span>:(-<span class="number">42.00</span>, <span class="number">46.28</span>),<span class="number">18</span>:(-<span class="number">46.00</span>, <span class="number">54.33</span>),<span class="number">19</span>:(-<span class="number">50.34</span>, <span class="number">62.80</span>),<span class="number">20</span>:(-<span class="number">55.04</span>, <span class="number">71.68</span>),<span class="number">21</span>:(-<span class="number">60.14</span>, <span class="number">80.94</span>),<span class="number">22</span>:(-<span class="number">65.66</span>, <span class="number">90.55</span>),<span class="number">23</span>:(-<span class="number">71.62</span>, <span class="number">100.49</span>),<span class="number">24</span>:(-<span class="number">78.06</span>, <span class="number">110.73</span>),<span class="number">25</span>:(-<span class="number">85.00</span>, <span class="number">121.25</span>),<span class="number">26</span>:(-<span class="number">92.47</span>, <span class="number">132.02</span>),<span class="number">27</span>:(-<span class="number">100.49</span>, <span class="number">143.02</span>),<span class="number">28</span>:(-<span class="number">109.10</span>, <span class="number">154.22</span>),<span class="number">29</span>:(-<span class="number">118.31</span>, <span class="number">165.59</span>),<span class="number">30</span>:(-<span class="number">128.16</span>, <span class="number">177.12</span>),<span class="number">31</span>:(-<span class="number">138.67</span>, <span class="number">188.77</span>),<span class="number">32</span>:(-<span class="number">149.87</span>, <span class="number">200.52</span>),<span class="number">33</span>:(-<span class="number">161.79</span>, <span class="number">212.34</span>),<span class="number">34</span>:(-<span class="number">174.45</span>, <span class="number">224.22</span>),<span class="number">35</span>:(-<span class="number">187.88</span>, <span class="number">236.11</span>),<span class="number">36</span>:(-<span class="number">202.11</span>, <span class="number">248.00</span>),<span class="number">37</span>:(-<span class="number">217.16</span>, <span class="number">259.87</span>),<span class="number">38</span>:(-<span class="number">233.06</span>, <span class="number">271.68</span>),<span class="number">39</span>:(-<span class="number">249.84</span>, <span class="number">283.41</span>),<span class="number">40</span>:(-<span class="number">267.52</span>, <span class="number">295.04</span>),<span class="number">41</span>:(-<span class="number">286.13</span>, <span class="number">306.54</span>),<span class="number">42</span>:(-<span class="number">305.71</span>, <span class="number">317.88</span>),<span class="number">43</span>:(-<span class="number">326.26</span>, <span class="number">329.05</span>),<span class="number">44</span>:(-<span class="number">347.83</span>, <span class="number">340.00</span>),<span class="number">45</span>:(-<span class="number">370.44</span>, <span class="number">350.73</span>),<span class="number">46</span>:(-<span class="number">394.11</span>, <span class="number">361.20</span>),<span class="number">47</span>:(-<span class="number">418.88</span>, <span class="number">371.39</span>),<span class="number">48</span>:(-<span class="number">444.76</span>, <span class="number">381.27</span>),<span class="number">49</span>:(-<span class="number">471.80</span>, <span class="number">390.81</span>),);</div><div class="line"><span class="variable">$paper1</span>: (<span class="number">0</span>:(<span class="number">0.00</span>, <span class="number">0.00</span>),<span class="number">1</span>:(-<span class="number">2.17</span>, <span class="number">8.43</span>),<span class="number">2</span>:(-<span class="number">3.88</span>, <span class="number">16.92</span>),<span class="number">3</span>:(-<span class="number">5.18</span>, <span class="number">25.49</span>),<span class="number">4</span>:(-<span class="number">6.09</span>, <span class="number">34.15</span>),<span class="number">5</span>:(-<span class="number">6.64</span>, <span class="number">42.92</span>),<span class="number">6</span>:(-<span class="number">6.87</span>, <span class="number">51.82</span>),<span class="number">7</span>:(-<span class="number">6.80</span>, <span class="number">60.85</span>),<span class="number">8</span>:(-<span class="number">6.46</span>, <span class="number">70.05</span>),<span class="number">9</span>:(-<span class="number">5.89</span>, <span class="number">79.41</span>),<span class="number">10</span>:(-<span class="number">5.12</span>, <span class="number">88.96</span>),<span class="number">11</span>:(-<span class="number">4.17</span>, <span class="number">98.71</span>),<span class="number">12</span>:(-<span class="number">3.09</span>, <span class="number">108.68</span>),<span class="number">13</span>:(-<span class="number">1.89</span>, <span class="number">118.88</span>),<span class="number">14</span>:(-<span class="number">0.61</span>, <span class="number">129.33</span>),<span class="number">15</span>:(<span class="number">0.72</span>, <span class="number">140.04</span>),<span class="number">16</span>:(<span class="number">2.07</span>, <span class="number">151.03</span>),<span class="number">17</span>:(<span class="number">3.41</span>, <span class="number">162.31</span>),<span class="number">18</span>:(<span class="number">4.70</span>, <span class="number">173.91</span>),<span class="number">19</span>:(<span class="number">5.92</span>, <span class="number">185.82</span>),<span class="number">20</span>:(<span class="number">7.04</span>, <span class="number">198.08</span>),<span class="number">21</span>:(<span class="number">8.02</span>, <span class="number">210.69</span>),<span class="number">22</span>:(<span class="number">8.84</span>, <span class="number">223.67</span>),<span class="number">23</span>:(<span class="number">9.46</span>, <span class="number">237.04</span>),<span class="number">24</span>:(<span class="number">9.86</span>, <span class="number">250.81</span>),<span class="number">25</span>:(<span class="number">10.00</span>, <span class="number">265.00</span>),<span class="number">26</span>:(<span class="number">9.85</span>, <span class="number">279.62</span>),<span class="number">27</span>:(<span class="number">9.38</span>, <span class="number">294.68</span>),<span class="number">28</span>:(<span class="number">8.57</span>, <span class="number">310.21</span>),<span class="number">29</span>:(<span class="number">7.37</span>, <span class="number">326.22</span>),<span class="number">30</span>:(<span class="number">5.76</span>, <span class="number">342.72</span>),<span class="number">31</span>:(<span class="number">3.71</span>, <span class="number">359.73</span>),<span class="number">32</span>:(<span class="number">1.19</span>, <span class="number">377.26</span>),<span class="number">33</span>:(-<span class="number">1.84</span>, <span class="number">395.33</span>),<span class="number">34</span>:(-<span class="number">5.40</span>, <span class="number">413.96</span>),<span class="number">35</span>:(-<span class="number">9.52</span>, <span class="number">433.16</span>),<span class="number">36</span>:(-<span class="number">14.24</span>, <span class="number">452.94</span>),<span class="number">37</span>:(-<span class="number">19.58</span>, <span class="number">473.33</span>),<span class="number">38</span>:(-<span class="number">25.58</span>, <span class="number">494.33</span>),<span class="number">39</span>:(-<span class="number">32.27</span>, <span class="number">515.96</span>),<span class="number">40</span>:(-<span class="number">39.68</span>, <span class="number">538.24</span>),<span class="number">41</span>:(-<span class="number">47.84</span>, <span class="number">561.18</span>),<span class="number">42</span>:(-<span class="number">56.77</span>, <span class="number">584.80</span>),<span class="number">43</span>:(-<span class="number">66.52</span>, <span class="number">609.11</span>),<span class="number">44</span>:(-<span class="number">77.10</span>, <span class="number">634.14</span>),<span class="number">45</span>:(-<span class="number">88.56</span>, <span class="number">659.88</span>),<span class="number">46</span>:(-<span class="number">100.92</span>, <span class="number">686.36</span>),<span class="number">47</span>:(-<span class="number">114.21</span>, <span class="number">713.60</span>),<span class="number">48</span>:(-<span class="number">128.47</span>, <span class="number">741.61</span>),<span class="number">49</span>:(-<span class="number">143.72</span>, <span class="number">770.41</span>),);</div><div class="line"><span class="variable">$paper2</span>: (<span class="number">0</span>:(<span class="number">0.00</span>, <span class="number">0.00</span>),<span class="number">1</span>:(-<span class="number">6.05</span>, <span class="number">5.40</span>),<span class="number">2</span>:(-<span class="number">12.20</span>, <span class="number">10.80</span>),<span class="number">3</span>:(-<span class="number">18.45</span>, <span class="number">16.22</span>),<span class="number">4</span>:(-<span class="number">24.81</span>, <span class="number">21.64</span>),<span class="number">5</span>:(-<span class="number">31.28</span>, <span class="number">27.07</span>),<span class="number">6</span>:(-<span class="number">37.87</span>, <span class="number">32.52</span>),<span class="number">7</span>:(-<span class="number">44.57</span>, <span class="number">37.99</span>),<span class="number">8</span>:(-<span class="number">51.40</span>, <span class="number">43.49</span>),<span class="number">9</span>:(-<span class="number">58.35</span>, <span class="number">49.01</span>),<span class="number">10</span>:(-<span class="number">65.44</span>, <span class="number">54.56</span>),<span class="number">11</span>:(-<span class="number">72.66</span>, <span class="number">60.15</span>),<span class="number">12</span>:(-<span class="number">80.02</span>, <span class="number">65.77</span>),<span class="number">13</span>:(-<span class="number">87.52</span>, <span class="number">71.43</span>),<span class="number">14</span>:(-<span class="number">95.16</span>, <span class="number">77.14</span>),<span class="number">15</span>:(-<span class="number">102.96</span>, <span class="number">82.89</span>),<span class="number">16</span>:(-<span class="number">110.91</span>, <span class="number">88.69</span>),<span class="number">17</span>:(-<span class="number">119.02</span>, <span class="number">94.55</span>),<span class="number">18</span>:(-<span class="number">127.28</span>, <span class="number">100.47</span>),<span class="number">19</span>:(-<span class="number">135.72</span>, <span class="number">106.44</span>),<span class="number">20</span>:(-<span class="number">144.32</span>, <span class="number">112.48</span>),<span class="number">21</span>:(-<span class="number">153.10</span>, <span class="number">118.59</span>),<span class="number">22</span>:(-<span class="number">162.05</span>, <span class="number">124.76</span>),<span class="number">23</span>:(-<span class="number">171.18</span>, <span class="number">131.01</span>),<span class="number">24</span>:(-<span class="number">180.50</span>, <span class="number">137.34</span>),<span class="number">25</span>:(-<span class="number">190.00</span>, <span class="number">143.75</span>),<span class="number">26</span>:(-<span class="number">199.70</span>, <span class="number">150.24</span>),<span class="number">27</span>:(-<span class="number">209.59</span>, <span class="number">156.82</span>),<span class="number">28</span>:(-<span class="number">219.68</span>, <span class="number">163.49</span>),<span class="number">29</span>:(-<span class="number">229.98</span>, <span class="number">170.26</span>),<span class="number">30</span>:(-<span class="number">240.48</span>, <span class="number">177.12</span>),<span class="number">31</span>:(-<span class="number">251.19</span>, <span class="number">184.08</span>),<span class="number">32</span>:(-<span class="number">262.12</span>, <span class="number">191.15</span>),<span class="number">33</span>:(-<span class="number">273.27</span>, <span class="number">198.32</span>),<span class="number">34</span>:(-<span class="number">284.64</span>, <span class="number">205.61</span>),<span class="number">35</span>:(-<span class="number">296.24</span>, <span class="number">213.01</span>),<span class="number">36</span>:(-<span class="number">308.07</span>, <span class="number">220.53</span>),<span class="number">37</span>:(-<span class="number">320.13</span>, <span class="number">228.17</span>),<span class="number">38</span>:(-<span class="number">332.43</span>, <span class="number">235.93</span>),<span class="number">39</span>:(-<span class="number">344.97</span>, <span class="number">243.82</span>),<span class="number">40</span>:(-<span class="number">357.76</span>, <span class="number">251.84</span>),<span class="number">41</span>:(-<span class="number">370.80</span>, <span class="number">260.00</span>),<span class="number">42</span>:(-<span class="number">384.09</span>, <span class="number">268.29</span>),<span class="number">43</span>:(-<span class="number">397.64</span>, <span class="number">276.72</span>),<span class="number">44</span>:(-<span class="number">411.45</span>, <span class="number">285.30</span>),<span class="number">45</span>:(-<span class="number">425.52</span>, <span class="number">294.03</span>),<span class="number">46</span>:(-<span class="number">439.86</span>, <span class="number">302.91</span>),<span class="number">47</span>:(-<span class="number">454.48</span>, <span class="number">311.94</span>),<span class="number">48</span>:(-<span class="number">469.37</span>, <span class="number">321.13</span>),<span class="number">49</span>:(-<span class="number">484.54</span>, <span class="number">330.48</span>),);</div><div class="line"><span class="variable">$paper3</span>: (<span class="number">0</span>:(<span class="number">0.00</span>, <span class="number">0.00</span>),<span class="number">1</span>:(<span class="number">1.22</span>, <span class="number">9.56</span>),<span class="number">2</span>:(<span class="number">3.22</span>, <span class="number">19.03</span>),<span class="number">3</span>:(<span class="number">5.93</span>, <span class="number">28.45</span>),<span class="number">4</span>:(<span class="number">9.26</span>, <span class="number">37.83</span>),<span class="number">5</span>:(<span class="number">13.15</span>, <span class="number">47.18</span>),<span class="number">6</span>:(<span class="number">17.50</span>, <span class="number">56.53</span>),<span class="number">7</span>:(<span class="number">22.26</span>, <span class="number">65.88</span>),<span class="number">8</span>:(<span class="number">27.34</span>, <span class="number">75.26</span>),<span class="number">9</span>:(<span class="number">32.67</span>, <span class="number">84.68</span>),<span class="number">10</span>:(<span class="number">38.18</span>, <span class="number">94.14</span>),<span class="number">11</span>:(<span class="number">43.79</span>, <span class="number">103.68</span>),<span class="number">12</span>:(<span class="number">49.45</span>, <span class="number">113.29</span>),<span class="number">13</span>:(<span class="number">55.07</span>, <span class="number">122.99</span>),<span class="number">14</span>:(<span class="number">60.59</span>, <span class="number">132.79</span>),<span class="number">15</span>:(<span class="number">65.95</span>, <span class="number">142.70</span>),<span class="number">16</span>:(<span class="number">71.07</span>, <span class="number">152.74</span>),<span class="number">17</span>:(<span class="number">75.89</span>, <span class="number">162.91</span>),<span class="number">18</span>:(<span class="number">80.35</span>, <span class="number">173.22</span>),<span class="number">19</span>:(<span class="number">84.39</span>, <span class="number">183.68</span>),<span class="number">20</span>:(<span class="number">87.94</span>, <span class="number">194.30</span>),<span class="number">21</span>:(<span class="number">90.93</span>, <span class="number">205.09</span>),<span class="number">22</span>:(<span class="number">93.32</span>, <span class="number">216.04</span>),<span class="number">23</span>:(<span class="number">95.04</span>, <span class="number">227.18</span>),<span class="number">24</span>:(<span class="number">96.04</span>, <span class="number">238.50</span>),<span class="number">25</span>:(<span class="number">96.25</span>, <span class="number">250.00</span>),<span class="number">26</span>:(<span class="number">95.62</span>, <span class="number">261.70</span>),<span class="number">27</span>:(<span class="number">94.10</span>, <span class="number">273.59</span>),<span class="number">28</span>:(<span class="number">91.62</span>, <span class="number">285.68</span>),<span class="number">29</span>:(<span class="number">88.15</span>, <span class="number">297.97</span>),<span class="number">30</span>:(<span class="number">83.62</span>, <span class="number">310.46</span>),<span class="number">31</span>:(<span class="number">77.98</span>, <span class="number">323.16</span>),<span class="number">32</span>:(<span class="number">71.19</span>, <span class="number">336.06</span>),<span class="number">33</span>:(<span class="number">63.19</span>, <span class="number">349.17</span>),<span class="number">34</span>:(<span class="number">53.94</span>, <span class="number">362.47</span>),<span class="number">35</span>:(<span class="number">43.39</span>, <span class="number">375.98</span>),<span class="number">36</span>:(<span class="number">31.49</span>, <span class="number">389.69</span>),<span class="number">37</span>:(<span class="number">18.20</span>, <span class="number">403.60</span>),<span class="number">38</span>:(<span class="number">3.47</span>, <span class="number">417.70</span>),<span class="number">39</span>:(-<span class="number">12.74</span>, <span class="number">431.99</span>),<span class="number">40</span>:(-<span class="number">30.46</span>, <span class="number">446.46</span>),<span class="number">41</span>:(-<span class="number">49.75</span>, <span class="number">461.12</span>),<span class="number">42</span>:(-<span class="number">70.65</span>, <span class="number">475.95</span>),<span class="number">43</span>:(-<span class="number">93.18</span>, <span class="number">490.95</span>),<span class="number">44</span>:(-<span class="number">117.40</span>, <span class="number">506.11</span>),<span class="number">45</span>:(-<span class="number">143.33</span>, <span class="number">521.42</span>),<span class="number">46</span>:(-<span class="number">171.02</span>, <span class="number">536.88</span>),<span class="number">47</span>:(-<span class="number">200.50</span>, <span class="number">552.48</span>),<span class="number">48</span>:(-<span class="number">231.80</span>, <span class="number">568.21</span>),<span class="number">49</span>:(-<span class="number">264.95</span>, <span class="number">584.05</span>),);</div></pre></td></tr></table></figure>
<p>相关的 mixin 如下</p>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">mixin</span> fly(<span class="variable">$animation_name</span>, <span class="variable">$pos</span>) &#123;</div><div class="line">    <span class="attribute">animation</span>: <span class="variable">$animation_name</span> <span class="number">2.5s</span> <span class="number">5s</span> forwards;</div><div class="line"></div><div class="line">    @keyframes #&#123;<span class="variable">$animation_name</span>&#125; &#123;</div><div class="line">        @<span class="keyword">each</span> <span class="variable">$time</span>, <span class="variable">$translate</span> in <span class="variable">$pos</span> &#123;</div><div class="line">            #&#123;(<span class="variable">$time</span> + 1)*2%&#125; &#123;</div><div class="line">                <span class="attribute">opacity</span>: <span class="number">1</span>;</div><div class="line">                <span class="attribute">transform</span>: translate(rem(nth(<span class="variable">$translate</span>, <span class="number">1</span>)), rem(nth(<span class="variable">$translate</span>, <span class="number">2</span>)));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">...</div><div class="line">&amp;<span class="selector-class">.play</span> <span class="selector-class">.paper</span> <span class="selector-tag">i</span> &#123;</div><div class="line">    &amp;:nth-child(1) &#123;</div><div class="line">        @<span class="keyword">include</span> fly(ani-paper-<span class="number">0</span>, <span class="variable">$paper0</span>);</div><div class="line">    &#125;</div><div class="line">    &amp;:nth-child(2) &#123;</div><div class="line">        @<span class="keyword">include</span> fly(ani-paper-<span class="number">1</span>, <span class="variable">$paper1</span>);</div><div class="line">    &#125;</div><div class="line">    &amp;:nth-child(3) &#123;</div><div class="line">        @<span class="keyword">include</span> fly(ani-paper-<span class="number">2</span>, <span class="variable">$paper2</span>);</div><div class="line">    &#125;</div><div class="line">    &amp;:nth-child(4) &#123;</div><div class="line">        @<span class="keyword">include</span> fly(ani-paper-<span class="number">3</span>, <span class="variable">$paper3</span>);</div><div class="line">    &#125;</div><div class="line">    &amp;:nth-child(5) &#123;</div><div class="line">        @<span class="keyword">include</span> fly(ani-paper-<span class="number">4</span>, <span class="variable">$paper4</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="动画缩写"><a href="#动画缩写" class="headerlink" title="动画缩写"></a>动画缩写</h2><p>还写了个简单的 mixin, 用来写简单状态变化的动画，代码很简单就不继续巴拉了。<s>（感觉自己写 mixin 写上瘾了噗）</s></p>
<figure class="highlight scss"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">mixin</span> animation (<span class="variable">$animation_name</span>, <span class="variable">$duration</span>, <span class="variable">$delay</span>: 0.5s, <span class="variable">$bezier</span>: linear, <span class="variable">$times</span>: infinite, <span class="variable">$from</span>: (), <span class="variable">$middle</span>: null, <span class="variable">$to</span>: ()) &#123;</div><div class="line"></div><div class="line">    <span class="attribute">animation</span>: <span class="variable">$animation_name</span> <span class="variable">$duration</span> <span class="variable">$delay</span> <span class="variable">$bezier</span> <span class="variable">$times</span>;</div><div class="line"></div><div class="line">    @<span class="keyword">include</span> keyframes (<span class="variable">$animation_name</span>) &#123;</div><div class="line">        0% &#123;</div><div class="line">            @<span class="keyword">each</span> <span class="variable">$style</span>, <span class="variable">$val</span> in <span class="variable">$from</span> &#123;</div><div class="line">                #&#123;<span class="variable">$style</span>&#125;: <span class="variable">$val</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        @<span class="keyword">if</span>(<span class="variable">$middle</span> != null) &#123;</div><div class="line">            50% &#123;</div><div class="line">                @<span class="keyword">each</span> <span class="variable">$style</span>, <span class="variable">$val</span> in <span class="variable">$middle</span> &#123;</div><div class="line">                    #&#123;<span class="variable">$style</span>&#125;: <span class="variable">$val</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        @<span class="keyword">if</span>(<span class="variable">$to</span> != null) &#123;</div><div class="line">            100% &#123;</div><div class="line">                @<span class="keyword">each</span> <span class="variable">$style</span>, <span class="variable">$val</span> in <span class="variable">$to</span> &#123;</div><div class="line">                    #&#123;<span class="variable">$style</span>&#125;: <span class="variable">$val</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>很遗憾之前没有开窍把这些特性用到项目中，仔细想想应该也是项目这么多动画需要才有了这些尝试。对于以往一些小需求来说，也就是杀鸡用不到屠龙宝刀这个意思吧~但其实用屠龙宝刀杀鸡也会很舒服的说，我现在是这样觉得的。</p>
<p><s>虽然上面的东西都是用的 Sass, 还是喜欢 Stylus 多一点的感觉🙊</s></p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/05090/" class="prev">PREV</a><a href="/2016/05010/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 <a href="http://cupools.github.io">liyh</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-67000695-1",'auto');ga('send','pageview');</script></body></html>