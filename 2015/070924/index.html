<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 关于apply和call · 一环的笔记</title><meta name="description" content="关于apply和call - liyh"><meta name="description" content="最近喵了这么多书也算是熟悉了这两个纠结过很久的方法_(:3」∠)_  把以前复制的东西整理一下好了。
call方法语法
call([thisObj[,arg1[, arg2[,   [,.argN]]]]])">
<meta property="og:type" content="article">
<meta property="og:title" content="关于apply和call">
<meta property="og:url" content="http://cupools.github.io/2015/070924/index.html">
<meta property="og:site_name" content="一环的笔记">
<meta property="og:description" content="最近喵了这么多书也算是熟悉了这两个纠结过很久的方法_(:3」∠)_  把以前复制的东西整理一下好了。
call方法语法
call([thisObj[,arg1[, arg2[,   [,.argN]]]]])">
<meta property="og:updated_time" content="2016-08-17T14:14:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="关于apply和call">
<meta name="twitter:description" content="最近喵了这么多书也算是熟悉了这两个纠结过很久的方法_(:3」∠)_  把以前复制的东西整理一下好了。
call方法语法
call([thisObj[,arg1[, arg2[,   [,.argN]]]]])"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://cupools.github.io/atom.xml" title="一环的笔记"></head><body><div class="wrap"><header><a href="/" class="logo-link">EXPORT DEFAULT LIYH</a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/cupools" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="mailto:cupools@gmail.com" target="_self" class="nav-list-link">GMAIL</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">关于apply和call</h1><div class="post-info">Jul 9, 2015<ul class="post-tag-list"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li></ul></div><div class="post-content"><p>最近喵了这么多书也算是熟悉了这两个纠结过很久的方法_(:3」∠)_  把以前复制的东西整理一下好了。</p>
<h2 id="call方法"><a href="#call方法" class="headerlink" title="call方法"></a>call方法</h2><p><strong>语法</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">call([thisObj[,arg1[, arg2[,   [,.argN]]]]])</div></pre></td></tr></table></figure>
<a id="more"></a>
<p><strong>定义</strong><br>调用一个对象的一个方法，以另一个对象替换当前对象。 </p>
<p><strong>说明</strong><br><code>call</code> 方法可以用来代替另一个对象调用一个方法。<code>call</code> 方法可将一个函数的对象上下文从初始的上下文改变为由 <code>thisObj</code> 指定的新对象。<br>如果没有提供 <code>thisObj</code> 参数，那么 <code>Global</code> 对象被用作 <code>thisObj</code>。 </p>
<h2 id="apply方法"><a href="#apply方法" class="headerlink" title="apply方法"></a>apply方法</h2><p><strong>语法</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line">apply([thisObj[,argArray]])</div></pre></td></tr></table></figure>
<p><strong>定义</strong><br>应用某一对象的一个方法，用另一个对象替换当前对象。 </p>
<p><strong>说明</strong><br>如果 <code>argArray</code> 不是一个有效的数组或者不是 arguments 对象，那么将导致一个 <code>TypeError</code>。<br>如果没有提供 <code>argArray</code> 和 <code>thisObj</code> 任何一个参数，那么 <code>Global</code> 对象将被用作 <code>thisObj</code>， 并且无法被传递任何参数。</p>
<h2 id="相关例子"><a href="#相关例子" class="headerlink" title="相关例子"></a>相关例子</h2><p>应该先搞明白这两个是<strong>Function的方法，能够改变函数内的this，或者说是函数执行的上下文</strong>。<br>看到有很好的例子就直接搬过来了~</p>
<h4 id="例子-a"><a href="#例子-a" class="headerlink" title="例子 a"></a>例子 a</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>) </span>&#123;  </div><div class="line">    alert(a+b);  </div><div class="line">&#125;  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sub</span>(<span class="params">a,b</span>) </span>&#123;  </div><div class="line">    alert(a-b);  </div><div class="line">&#125;</div><div class="line"></div><div class="line">add.call(sub,<span class="number">3</span>,<span class="number">1</span>);</div></pre></td></tr></table></figure>
<p>这个例子中的意思就是用 <code>add</code> 来替换 <code>sub</code>, <code>add.call(sub,3,1) == add(3,1)</code> ，所以运行结果为：<code>alert(4)</code></p>
<p>注意：js 中的函数其实是对象，函数名是对 Function 对象的引用。</p>
<h4 id="例子-b"><a href="#例子-b" class="headerlink" title="例子 b"></a>例子 b</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params"></span>) </span>&#123;    </div><div class="line">    <span class="keyword">this</span>.name = <span class="string">"Animal"</span>;    </div><div class="line">    <span class="keyword">this</span>.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;    </div><div class="line">        alert(<span class="keyword">this</span>.name);    </div><div class="line">    &#125;    </div><div class="line">&#125;    </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123;    </div><div class="line">    <span class="keyword">this</span>.name = <span class="string">"Cat"</span>;    </div><div class="line">&#125;    </div><div class="line">   </div><div class="line"><span class="keyword">var</span> animal = <span class="keyword">new</span> Animal();    </div><div class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat();    </div><div class="line">    </div><div class="line"><span class="comment">//通过call或apply方法，将原本属于Animal对象的showName()方法交给对象cat来使用了。    </span></div><div class="line"><span class="comment">//输入结果为"Cat"    </span></div><div class="line">animal.showName.call(cat,<span class="string">""</span>);    </div><div class="line"><span class="comment">//animal.showName.apply(cat,[]);</span></div></pre></td></tr></table></figure>
<p><code>call</code> 的意思是把 animal 的方法放到 cat 上执行，原来 cat 是没有 <code>showName()</code> 方法，现在是把 animal 的 <code>showName()</code> 方法放到 cat 上来执行，所以 <code>this.name</code> 应该是 Cat</p>
<h4 id="例子c-实现继承"><a href="#例子c-实现继承" class="headerlink" title="例子c 实现继承"></a>例子c 实现继承</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>) </span>&#123;      </div><div class="line">    <span class="keyword">this</span>.name = name;      </div><div class="line">    <span class="keyword">this</span>.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;      </div><div class="line">        alert(<span class="keyword">this</span>.name);      </div><div class="line">    &#125;      </div><div class="line">&#125;      </div><div class="line">    </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>) </span>&#123;    </div><div class="line">    Animal.call(<span class="keyword">this</span>, name);    </div><div class="line">&#125;      </div><div class="line">    </div><div class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(<span class="string">"Black Cat"</span>);     </div><div class="line">cat.showName();</div></pre></td></tr></table></figure>
<p><code>Animal.call(this)</code> 的意思就是使用 <code>Animal</code> 对象代替 <code>this</code> 对象，那么 Cat 中不就有 Animal 的所有属性和方法了吗， Cat 对象就能够直接调用 Animal 的方法以及属性了.</p>
<h4 id="例子d-多重继承"><a href="#例子d-多重继承" class="headerlink" title="例子d 多重继承"></a>例子d 多重继承</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Class10</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">this</span>.showSub = <span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>) </span>&#123;  </div><div class="line">        alert(a-b);  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Class11</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">this</span>.showAdd = <span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>) </span>&#123;  </div><div class="line">        alert(a+b);  </div><div class="line">    &#125;  </div><div class="line">&#125;  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Class2</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    Class10.call(<span class="keyword">this</span>);  </div><div class="line">    Class11.call(<span class="keyword">this</span>);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>很简单，使用两个 <code>call</code> 就实现多重继承了<br>当然，js的继承还有其他方法，例如使用原型链，这个不属于本文的范畴，只是在此说明 <code>call</code> 的用法。说了 <code>call</code> ，当然还有 <code>apply</code>，这两个方法基本上是一个意思，区别在于 <code>call</code> 的第二个参数可以是任意类型，而 <code>apply</code> 的第二个参数必须是数组，也可以是 <code>arguments</code></p>
<h2 id="参考链接："><a href="#参考链接：" class="headerlink" title="参考链接："></a>参考链接：</h2><p><a href="http://www.cnblogs.com/jingwhale/p/4604917.html" target="_blank" rel="external">JS 中的 call、apply、bind 方法</a></p>
</div></article></div></section><footer><div class="paginator"><a href="/2015/071723/" class="prev">PREV</a><a href="/2015/070222/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 <a href="http://cupools.github.io">liyh</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-67000695-1",'auto');ga('send','pageview');</script></body></html>